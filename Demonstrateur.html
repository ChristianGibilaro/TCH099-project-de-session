<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <title>Demonstrateur</title>
  <link rel="icon" href="ressources/Final/Main/logo.png" type="image/png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="Scripts/animationScript.js" defer></script>
  <script src="Scripts/ElementCreator.js"></script>
  <script src="Scripts/globalVars.js"></script>
  <script src="Scripts/mainScript.js"></script>

  <link rel="stylesheet" href="Styles/normalize.css">
  <link rel="stylesheet" href="Styles/Demonstrateur.css">

</head>

<script>
  var creator = new ElementCreator(document.title);
  var API = new mainScript(document.title);
  console.log(document.title);

  // ---------------------------------------------- API DATA ----------------------------------------------


  const helldiversPlanets = [
    "Acamar IV",
    "Acerbitas",
    "Acretia",
    "Aesir Pass",
    "Angel's Venture",
    "Charon Prime",
    "Choohe",
    "Cratérus",
    "Crimsica",
    "Draupnir",
    "Durgen",
    "Emeria",
    "Erata Prime",
    "Esker",
    "Estanu",
    "Fenrir III",
    "Fori Prime",
    "Frosthorn",
    "Heeth",
    "Hellmire",
    "Heze Bay",
    "Ingmar",
    "Isen IV",
    "Kavis",
    "Keid",
    "Kraz",
    "Lestrade",
    "Maia",
    "Malevelon Creek",
    "Marfark",
    "Martale",
    "Matar Bay",
    "Mefst",
    "Meridia",
    "Mort",
    "Nivel IV",
    "Obari",
    "Oshaune",
    "Penta",
    "Pöpli IX",
    "Provost",
    "Pythea Bay",
    "Seyshel Beach",
    "Skarv",
    "Sutnar",
    "Thanatos",
    "The Fold",
    "Thera",
    "Tibit",
    "Troost",
    "Turing",
    "Ubanea",
    "Ustotu",
    "Vandalon IV",
    "Varylia 5",
    "Vernen Wells", // Sometimes appears as Vanern Wells
    "X-45",
    "Zagon Prime"
  ];

  //Test de connection avec l'api:  
  alert(API.GetSteamGameData("1245620"));
  //alert(API.GetSteamUserData("76561199131939133"));

</script>

<body>
  <!------------------------------------------------ SECTION Ω - MENU ---------------------------------------------->
  <header onclick="toggleMenu()">
    <script>
      document.write(creator.PrefabMenu);
    </script>
  </header>
  <div id="dimmer" onclick="toggleMenu()"></div>

  <!------------------------------------------------ SECTION 0 - ONGLETS ---------------------------------------------->
  <div id="contenu">

    <div id="head">
      <script>
        document.write(creator.CreateHero("ressources/Final/Main/moonDarkSign.png", "ressources/Commun/logo_example.png"));
      </script>

      <script>
        document.write(creator.CreateDesc("Website Name: Lunar Covenant", "Stats"));
      </script>

      <div class="barre-onglets">
        <button class="onglet actif" onclick="afficherSection('section1', this)">Exemple Listes</button>
        <button class="onglet" onclick="afficherSection('section2', this)">Exemple Image</button>
        <button class="onglet" onclick="afficherSection('section3', this)">Marketplace</button>
        <button class="onglet" onclick="afficherSection('section4', this)">Barre à filtres</button>
        <button class="onglet" onclick="afficherSection('section5', this)">Form</button>
        <button class="onglet" onclick="afficherSection('section6', this)">Media</button>
        <button class="onglet" onclick="afficherSection('section7', this)">Page</button>
        <button class="onglet last" onclick="afficherSection('section8', this)">Search</button>
        <button class="onglet" onclick="afficherSection('section9', this)">Messagerie</button>
      </div>
    </div>

    <div id="sections-container">
      <!------------------------------------------------ SECTION 4 - TABLES ---------------------------------------------->
      <div id="section1" class="contenu-onglet" style="height: 100%;">

        <div id ="lol">

        </div>
        <script>







const target = document.getElementById("lol");

// 1. Reddit-style posts
const posts = [
  { title: "First post", body: "Hello, this is my first post!", author: "Alice" },
  { title: "A picture", body: `<img src="https://cdn2.steamgriddb.com/thumb/994d88a370250b303be16fc98bb5cdac.png" style="max-width:180px;border-radius:8px;">`, author: "Bob" },
  { title: "Video!", body: `<video src="https://www.w3schools.com/html/mov_bbb.mp4" controls style="max-width:220px"></video>`, author: "Carol" }
];
target.append(
  creator.superScrollableList({
    items: posts,
    height: "400px",
    width: "400px",
    renderItem: (post, idx) =>
      `<div class="scrollable-row" style="flex-direction:column;align-items:flex-start;text-align:left;padding:16px;">
        <strong style="font-size:1.1em">${post.title}</strong>
        <div style="margin:6px 0;">${post.body}</div>
        <div style="font-size:0.8em;color:#8a8a8a;">by ${post.author}</div>
      </div>`
  })
);

// 2. Google-style search results
const results = [
  { title: "OpenAI", url: "https://openai.com", snippet: "OpenAI develops artificial intelligence..." },
  { title: "GitHub", url: "https://github.com", snippet: "GitHub is the world's leading software..." }
];
target.append(
  creator.superScrollableList({
    items: results,
    height: "300px",
    width: "600px",
    renderItem: (res, idx) =>
      `<div class="scrollable-row" style="flex-direction:column;text-align:left;padding:14px 8px;">
        <a href="${res.url}" style="color:var(--accent);font-size:1.1em">${res.title}</a>
        <div style="font-size:0.95em;">${res.snippet}</div>
        <div style="font-size:0.8em;color:#8a8a8a;">${res.url}</div>
      </div>`
  })
);

// 3. Grid of videos (YouTube style)
const videos = [
  { url: "https://www.w3schools.com/html/mov_bbb.mp4", thumb: "https://peach.blender.org/wp-content/uploads/title_anouncement.jpg?x11217", title: "Big Buck Bunny" },
  { url: "https://www.w3schools.com/html/movie.mp4", thumb: "https://i.ytimg.com/vi_webp/YE7VzlLtp-4/maxresdefault.webp", title: "Bear Video" }
];
target.append(
  creator.superScrollableList({
    items: videos,
    mode: "grid",
    gridTemplate: "repeat(auto-fill,minmax(220px,1fr))",
    height: "350px",
    width: "800px",
    renderItem: (v, idx) =>
      `<div class="box" style="padding:8px;">
        <video src="${v.url}" controls poster="${v.thumb}" style="width:100%;border-radius:8px"></video>
        <div style="margin-top:8px;font-weight:bold">${v.title}</div>
      </div>`
  })
);

target.append(
  creator.superScrollableList({
    mode: "masonry",
    items: Array.from({length:15}, (_,i) => {
      // random height between 180 and 340px
      const h = 180 + Math.floor(Math.random()*160);
      return {
        img: `https://picsum.photos/300/${h}?random=${i}`,
        text: "Card " + (i+1) + ": " + (Math.random()+"").slice(2, 10) + "<br>" +
          ("Lorem ipsum dolor sit amet consectetur adipisicing elit. ".repeat(Math.floor(Math.random()*3)+1))
      };
    }),
    width: "800px",
    height: "420px",
    renderItem: (item, idx) =>
      `<div style="background:var(--bg-dark2);border-radius:6px;padding:10px;box-shadow:var(--shadow);margin-bottom:16px;">
        <img src="${item.img}" style="width:100%;border-radius:6px;display:block;">
        <div style="margin-top:8px;">${item.text}</div>
      </div>`
  })
);

// 5. HORIZONTAL
target.append(
  creator.superScrollableList({
    mode: "horizontal",
    items: Array.from({length:10}, (_,i) => ({
      img: "https://picsum.photos/200/12"+i,
      title: "Image "+(i+1)
    })),
    width: "700px",
    height: "160px",
    renderItem: (item, idx) =>
      `<div style="min-width:180px;max-width:200px;background:var(--bg-darkLite);margin:8px 0;border-radius:8px;overflow:hidden;">
        <img src="${item.img}" style="width:100%;height:120px;object-fit:cover;">
        <div style="text-align:center;">${item.title}</div>
      </div>`
  })
);

// 6. CAROUSEL
target.append(
  creator.superScrollableList({
    mode: "carousel",
    items: Array.from({length:5}, (_,i) => ({
      img: "https://picsum.photos/360/14"+i,
      title: "Slide "+(i+1)
    })),
    width: "360px",
    height: "220px",
    carouselOptions: { show: 1, arrows: true, dots: true, auto: true, interval: 2000 },
    renderItem: (item, idx) =>
      `<div style="width:100%;height:200px;display:flex;align-items:center;justify-content:center;position:relative;">
        <img src="${item.img}" style="max-width:100%;max-height:100%;border-radius:8px;">
        <div style="position:absolute;bottom:8px;left:0;width:100%;text-align:center;color:white;background:rgba(0,0,0,0.5);">${item.title}</div>
      </div>`
  })
);

// 7. TIMELINE
target.append(
  creator.superScrollableList({
    mode: "timeline",
    items: [
      { title: "Started project", date: "2021-01-01", who: "Alice" },
      { title: "First commit", date: "2021-01-02", who: "Bob" },
      { title: "Launch", date: "2021-02-01", who: "Carol" }
    ],
    width: "520px",
    height: "300px",
    timelineLineColor: "#58acec",
    renderItem: (item, idx) =>
      `<div><b>${item.title}</b><br><span style="font-size:0.9em;">${item.date} — ${item.who}</span></div>`
  })
);

// 8. ACCORDION
target.append(
  creator.superScrollableList({
    mode: "accordion",
    items: [
      { title: "Section 1", content: "This is detail 1" },
      { title: "Section 2", content: "This is detail 2" },
      { title: "Section 3", content: "This is detail 3" }
    ],
    width: "480px",
    height: "260px",
    renderItem: (item, idx) => `<div>${item.content}</div>`
  })
);

// 9. TABLE
target.append(
  creator.superScrollableList({
    mode: "table",
    items: [
      ["Alice", "Engineer", "NY"],
      ["Bob", "Designer", "SF"],
      ["Carol", "CEO", "LA"]
    ],
    width: "420px",
    height: "160px",
    tableHeader: [
      { title: "Name", width: "33%" },
      { title: "Role", width: "33%" },
      { title: "Location", width: "34%" }
    ],
    renderItem: (row, idx) => row // Not used, direct mapping in makeTable
  })
);

// 10. CHAT
target.append(
  creator.superScrollableList({
    mode: "chat",
    items: [
      { text: "Hey!", who: "me" },
      { text: "Hello :)", who: "them" },
      { text: "How are you?", who: "me" },
      { text: "Good thanks!", who: "them" },
      { text: "Hey!", who: "me" },
      { text: "Hello :)", who: "them" },
      { text: "How are you?", who: "me" },
      { text: "Good thanks!", who: "them" },
      { text: "Hey!", who: "me" },
      { text: "Hello :)", who: "them" },
      { text: "How are you?", who: "me" },
      { text: "Good thanks!", who: "them" },
      { text: "Hey!", who: "me" },
      { text: "Hello :)", who: "them" },
      { text: "How are you?", who: "me" },
      { text: "Good thanks!", who: "them" }
    ],
    width: "400px",
    height: "260px",
    renderItem: (msg, idx) => msg.text // escaping not needed, text only
  })
);

// 11. KANBAN
target.append(
  creator.superScrollableList({
    mode: "kanban",
    kanbanColumns: [
      { id: "todo", title: "To Do" },
      { id: "doing", title: "In Progress" },
      { id: "done", title: "Done" }
    ],
    items: [
      { columnId: "todo", text: "Task 1" },
      { columnId: "doing", text: "Task 2" },
      { columnId: "done", text: "Task 3" }
    ],
    width: "900px",
    height: "300px",
    renderItem: (item, idx) =>
      `<div style="background:var(--bg-darkLite);margin:8px;border-radius:6px;padding:8px 10px;">${item.text}</div>`
  })
);

// 12. VIRTUALIZED / INFINITE SCROLL
target.append(
  creator.superScrollableList({
    virtualize: true,
    items: Array.from({length:150}, (_,i)=>"Item #"+(i+1)),
    width: "350px",
    height: "260px",
    pageSize: 35,
    renderItem: (item, idx) =>
      `<div class="scrollable-row" style="padding:8px 12px;">${item}</div>`
  })
);

      </script>
      </div>

      <!------------------------------------------------ SECTION 2 - IMAGE ---------------------------------------------->
      <div id="section2" class="contenu-onglet" style="display: none;">
        <script>
          // Une image (An image)
          document.write(creator.CreateImage("500px", null, "ressources/Commun/baniere_example.webp", "image", null, "FillImage", " object-position: 1% 40%;"));
        </script>
      </div>

      <!------------------------------------------------ SECTION 3 - Grid ---------------------------------------------->
      <div id="section3" class="contenu-onglet" style="display: none;">
        <script>
          document.write(creator.CreateGrid([
            ["Activity.html", "https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/1245620/capsule_231x87.jpg?t=1739922037",
              "#", "ressources/Commun/user_profile_image_example.png",
              "Creator: HeRobrain_III", "4/6 places", "Created: 10/12/2025<br>Ending: 17/12/2025 10:17AM<br>Level: RuneLevel 100"]
          ]));
        </script>
      </div>

      <!------------------------------------------------ SECTION 4 - FILTERS ---------------------------------------------->
      <div id="section4" class="contenu-onglet" style="display: none;">
        <div class="barre-filtres" id="in1">
          <script>
            document.getElementById("in1").append(creator.CreateFilterTextbox(helldiversPlanets, "Find a planet to liberate"));
            document.getElementById("in1").append(creator.CreateCheckList(helldiversPlanets, "(Click to Open) Find a planet to liberate"));
          </script>

          <div class="bloc-filtre">
            <input type="number" id="filtre-nombre" placeholder="Nombre (ex: 10)" min="0" max="100" step="1">
          </div>

          <div class="bloc-filtre">
            <input type="datetime-local" id="filtre-datetime">
          </div>

          <div class="bloc-filtre filtre-checkboxes">
            <label><input type="checkbox" name="categorie" value="tshirt"> T-shirt</label>
            <label><input type="checkbox" name="categorie" value="baggy"> Baggy</label>
            <label><input type="checkbox" name="couleur" value="jaune"> Jaune</label>
            <label><input type="checkbox" name="couleur" value="noir"> Noir</label>
          </div>
        </div>
        <script>
          document.write(creator.CreateImage("500px", null, "ressources/Commun/baniere_example.webp", "image", null, "FillImage", " object-position: 1% 40%;"));
        </script>
      </div>

      <!------------------------------------------------ SECTION 5 - FORM ---------------------------------------------->
      <div id="section5" class="contenu-onglet" style="display: none;">
        <script>
          
          const dynamicFormConfig = {
            formTitle: "Créer un compte",
            formId: "form_new_user_id",
            formMethod: "POST",
            formEnctype: "multipart/form-data",
            inputConfig: [
              { type: 'text', label: 'Pseudonyme', name: 'pseudonym', required: true },
              { type: 'text', label: 'Nom', name: 'nom', required: true },
              { type: 'email', label: 'Email', name: 'email', required: true },
              { type: 'password', label: 'Mot de passe', name: 'password', required: true },
              { type: 'password', label: 'Confirmez le mot de passe', name: 'password2', required: true },
              { type: 'file', label: 'Image de profil', name: 'image' },
              { type: 'textarea', label: 'Description', name: 'description', required: true },
              { type: 'date', label: 'Date de naissance', name: 'age', required: true },
              { type: 'checkbox', label: "J'accepte les", name: 'agreement', value: 'accepted', required: true, labelLink: '#' }
            ],
            submitButtonText: "Créer un compte",
            loginLink: "Sign-in.html",
            loginLinkText: "Déjà un compte ? <a href=\"#\">Se connecter</a>."
          };

          
          const generatedDynamicFormHTML = creator.CreateDynamicForm(
            dynamicFormConfig.formTitle,
            dynamicFormConfig.formId,
            dynamicFormConfig.formMethod,
            dynamicFormConfig.formEnctype,
            dynamicFormConfig.inputConfig,
            dynamicFormConfig.submitButtonText,
            dynamicFormConfig.loginLink,
            dynamicFormConfig.loginLinkText
          );

          document.write(generatedDynamicFormHTML);
        </script>
      </div>

      <!------------------------------------------------ SECTION 6 - MEDIA ---------------------------------------------->
      <div id="section6" class="contenu-onglet" style="display: none;">
        <h2>
          <div class="media-viewer">
            <div class="media-display" id="media-display">
              <img src="ressources/Media/got_2.png" alt="media principal" id="media-principal" />
            </div>

            <div class="media-thumbnails-container">
              <button class="scroll-btn left" onclick="scrollMediaThumbnails(-1)">⯇</button>

              <div class="media-thumbnails" id="media-thumbnails">
                <img src="ressources/Media/got_imagr.png" onclick="changerMedia(this)" />
                <img src="ressources/Media/photo_manette.jpg" onclick="changerMedia(this)" />
                <video src="ressources/Media/video_routes.mp4" onclick="changerMedia(this)" muted></video>
                <video src="ressources/Media/istockphoto-1265220754-640_adpp_is.mp4" onclick="changerMedia(this)"
                  muted></video>
                <img src="ressources/Media/got_imagr.png" onclick="changerMedia(this)" />
                <img src="ressources/Media/photo_manette.jpg" onclick="changerMedia(this)" />
                <video src="ressources/Media/video_routes.mp4" onclick="changerMedia(this)" muted></video>
                <video src="ressources/Media/istockphoto-1265220754-640_adpp_is.mp4" onclick="changerMedia(this)"
                  muted></video>
                <img src="ressources/Media/got_imagr.png" onclick="changerMedia(this)" />
                <img src="ressources/Media/photo_manette.jpg" onclick="changerMedia(this)" />
                <video src="ressources/Media/video_routes.mp4" onclick="changerMedia(this)" muted></video>
                <video src="ressources/Media/istockphoto-1265220754-640_adpp_is.mp4" onclick="changerMedia(this)"
                  muted></video>
              </div>

              <button class="scroll-btn right" onclick="scrollMediaThumbnails(1)">⯈</button>
            </div>
          </div>
        </h2>
      </div>

      <!------------------------------------------------ SECTION 7 - PAGE ---------------------------------------------->
      <div id="section7" class="contenu-onglet" style="display: none;">
        <div class="page-content" id="page-content-container-section7">
          <div class="page-item active">This is the content for page 1 of Section 7.</div>
          <div class="page-item">Content of page number 2 of Section 7.</div>
          <div class="page-item">Here's the information for the third page of Section 7.</div>
          <div class="page-item">This is the content displayed on the fourth page of Section 7.</div>
          <div class="page-item">Finally, this is the content for page 5 of Section 7.</div>
        </div>
        <div class="pagination" id="pagination-container-section7">
          <button class="prev-page">&lt; Previous</button>
          <button class="next-page">Next &gt;</button>
        </div>
      </div>

      <!------------------------------------------------ SECTION 8 - SEARCH BAR ---------------------------------------------->
      <div id="section8" class="contenu-onglet" style="display: none;">
        <script>
          const searchPageElement = creator.createSearchPage(true);
          document.getElementById("section8").appendChild(searchPageElement);
        </script>
      </div>

      <!------------------------------------------------ SECTION 9 - MESSAGERIE ---------------------------------------------->
      <div id="section9" class="contenu-onglet" style="display: none;">
        <div class="messagerie-container">

          <!-- Écran 1 : Liste des conversations -->
          <div class="chat-screen conversation-list">
            <h3>Conversations</h3>
            <ul class="chat-preview-list">
              <li class="chat-preview">Alice</li>
              <li class="chat-preview">Bob</li>
              <li class="chat-preview">Charlie</li>
            </ul>
            <button class="add-convo-btn">+</button>
          </div>

          <!-- Écran 2 : Création de conversation -->
          <div class="chat-screen create-conversation">
            <h3>Nouvelle conversation</h3>
            <input type="text" placeholder="Nom de la conversation" class="chat-input" />
            <input type="text" placeholder="Pseudo de l'utilisateur" class="chat-input" />
            <button class="create-btn">Ajouter</button>
          </div>

          <!-- Écran 3 : Affichage de conversation -->
          <div class="chat-screen chat-view">
            <div class="chat-header">
              <button class="back-btn">⮜</button>
              <div class="chat-title">Alice</div>
            </div>
            <div class="chat-messages">
              <div class="message other">
                <img src="ressources/Commun/user_profile_image_example.png" alt="pdp" class="avatar" />
                <div class="bubble">Salut, ça va ?<span class="timestamp">10:03</span></div>
              </div>
              <div class="message self">
                <div class="bubble">Oui super et toi ?<span class="timestamp">10:05</span></div>
              </div>
            </div>
            <div class="chat-input-area">
              <input type="text" class="chat-message-input" placeholder="Écrire un message..." />
              <button class="send-btn">Envoyer</button>
            </div>
          </div>

  </div>
</div>


    </div>
  </div>
</body>

</html>